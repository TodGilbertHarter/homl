<!DOCTYPE html>
<html>
	<head>
		<base target="_top">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Hairball Test Page</title>
		<script type='importmap'>
		{
			"imports": {
				"lit3": "https://cdn.jsdelivr.net/gh/lit/dist@3/all/lit-all.min.js"
			}
		}
		</script>
		<script type="module" src="js/biginput.js"></script>
	</head>
	<body>
		<big-input cols='60' rows='20' wrap="hard" id="input"></big-input>
		<button id="doit">Do It</button>
		<div id="output"></div>
		<script type="module">
			import Hairball from './js/hairballjs/hairball.js';
			import StringOutput from './js/hairballjs/stringoutput.js';
			import StringWordStream from './js/hairballjs/stringwordstream.js';
			
			let hb = new Hairball();
			
			let outdiv = document.getElementById('output');
			let inarea = document.getElementById('input');
			let doit = document.getElementById('doit');
			doit.onclick = () => {
				let so = new StringOutput("");
				let intext = inarea.value.toString();
				let sws = new StringWordStream(intext);
				hb.setIO(sws,so);
				hb.execute();
				outdiv.innerHTML = so.out;
			}
			
		</script>
	</body>
</html>